<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn DSA - Codecade</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'VT323', monospace;
            background: #000 url('/assets/images/background.jpg') center center / cover no-repeat fixed;
            color: white;
            overflow-x: hidden;
        }

        .text-glow-blue { color: #60a5fa; text-shadow: 0 0 5px #3b82f6, 0 0 10px #3b82f6; }
        .text-glow-purple { color: #c084fc; text-shadow: 0 0 5px #a855f7, 0 0 10px #a855f7; }
        .text-glow-cyan { color: #67e8f9; text-shadow: 0 0 5px #06b6d4, 0 0 10px #06b6d4; }
        
        .auth-panel { 
            background-color: rgba(30, 58, 138, 0.9); 
            border: 4px solid #60a5fa; 
            box-shadow: 0 0 20px #3b82f6; 
            padding: 2rem; 
            border-radius: 8px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .auth-panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 30px #60a5fa, 0 0 50px rgba(96, 165, 250, 0.5);
        }

        .retro-btn { 
            font-family: 'VT323', monospace; 
            font-size: 1.25rem; 
            padding: 0.75rem 1.5rem; 
            border: 4px solid #a78bfa; 
            border-radius: 8px; 
            cursor: pointer; 
            text-transform: uppercase; 
            transition: all 0.3s ease; 
            color: #a78bfa; 
            background-color: transparent; 
        }
        
        .retro-btn:hover { 
            background-color: #a78bfa; 
            color: #1e1b4b; 
            box-shadow: 0 0 20px #a78bfa; 
        }

        .retro-btn-green {
            border-color: #00ff00;
            color: #00ff00;
        }

        .retro-btn-green:hover {
            background-color: #00ff00;
            color: #000;
            box-shadow: 0 0 20px #00ff00;
        }

        .topic-card {
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.9) 0%, rgba(59, 130, 246, 0.9) 100%) !important;
            border: 4px solid;
            border-image: linear-gradient(135deg, #a78bfa, #60a5fa) 1;
        }

        .topic-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 0 40px #60a5fa, 0 0 60px rgba(96, 165, 250, 0.3);
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.95) 0%, rgba(37, 99, 235, 0.95) 100%) !important;
        }

        .difficulty-easy {
            background: #00ff00;
            color: #000;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-weight: bold;
        }

        .difficulty-medium {
            background: #ffaa00;
            color: #000;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-weight: bold;
        }

        .difficulty-hard {
            background: #ff0000;
            color: #fff;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-weight: bold;
        }

        .progress-container {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #8b5cf6;
            border-radius: 4px;
            overflow: hidden;
            height: 20px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #06b6d4);
            height: 100%;
            transition: width 0.5s ease;
        }

        .sound-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            background: rgba(139, 92, 246, 0.8);
            border: 4px solid #60a5fa;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 2rem;
        }

        .sound-control:hover {
            background: rgba(96, 165, 250, 0.9);
            box-shadow: 0 0 30px #60a5fa;
            transform: scale(1.1);
        }

        .modal-overlay {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #000;
        }

        ::-webkit-scrollbar-thumb {
            background: #8b5cf6;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #60a5fa;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Sound Control -->
    <div class="sound-control" id="soundControl" title="Toggle Sound">
        <span id="soundIcon">üîá</span>
    </div>

    <!-- Header -->
    <header class="bg-black/60 border-b-4 border-blue-500 p-4 sticky top-0 z-40">
        <div class="flex items-center justify-between max-w-7xl mx-auto">
            <a href="index.html" class="text-cyan-400 hover:text-blue-400 transition-colors text-2xl">‚Üê BACK</a>
            <h1 class="text-4xl md:text-5xl font-bold text-glow-blue">üìö LEARN DSA</h1>
            <div class="w-20"></div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="p-4 md:p-8">
        <!-- Stats Overview -->
        <div class="max-w-7xl mx-auto mb-12">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <div class="auth-panel text-center">
                    <div class="text-5xl mb-2">üìä</div>
                    <div class="text-4xl text-glow-cyan font-bold" id="totalModules">6</div>
                    <p class="text-xl mt-1">TOPICS</p>
                </div>
                <div class="auth-panel text-center">
                    <div class="text-5xl mb-2">‚úÖ</div>
                    <div class="text-4xl text-glow-purple font-bold" id="completedModules">0</div>
                    <p class="text-xl mt-1">DONE</p>
                </div>
                <div class="auth-panel text-center">
                    <div class="text-5xl mb-2">üìñ</div>
                    <div class="text-4xl text-glow-purple font-bold">100+</div>
                    <p class="text-xl mt-1">LESSONS</p>
                </div>
                <div class="auth-panel text-center">
                    <div class="text-5xl mb-2">üéØ</div>
                    <div class="text-4xl text-glow-cyan font-bold" id="overallProgress">0%</div>
                    <p class="text-xl mt-1">PROGRESS</p>
                </div>
            </div>
        </div>

        <!-- Topics Grid -->
        <div class="max-w-7xl mx-auto">
            <div id="topicsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Topics populated by JS -->
            </div>
        </div>
    </main>

    <!-- Topic Modal -->
    <div id="topicModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
        <div class="auth-panel max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 id="modalTitle" class="text-4xl text-glow-blue font-bold">TOPIC</h2>
                <div class="flex gap-4">
                    <button id="markCompleteBtn" class="retro-btn">MARK DONE</button>
                    <button onclick="closeModal()" class="text-4xl text-gray-400 hover:text-blue-400 transition-colors">√ó</button>
                </div>
            </div>
            <div id="modalContent" class="text-xl leading-relaxed">
                <!-- Content populated by JS -->
            </div>
        </div>
    </div>

    <script src="/js/audio-system.js"></script>
    <script>
        let soundEnabled = false;
        let audioContext;
        let lofiGain;

        // Topics Data
        const topics = [
            {
                id: 'intro-dsa',
                title: 'Introduction to DSA',
                description: 'Fundamentals of Data Structures & Algorithms',
                difficulty: 'Easy',
                icon: 'üéØ',
                content: `
                    <h3 class="text-3xl text-glow-cyan mb-4">What is a Data Structure?</h3>
                    <p class="mb-4">A data structure is a method of organizing, managing, and storing data efficiently.</p>
                    <h4 class="text-2xl text-glow-purple mb-3">Why Important?</h4>
                    <ul class="list-disc ml-8 mb-4 space-y-1">
                        <li>Improves program performance</li>
                        <li>Handles large data efficiently</li>
                        <li>Essential for competitive programming</li>
                        <li>Used in databases, OS, networking</li>
                    </ul>
                    <h4 class="text-2xl text-glow-purple mb-3">Types</h4>
                    <ul class="list-disc ml-8 space-y-1">
                        <li><strong class="text-cyan-400">Linear:</strong> Array, Linked List, Stack, Queue</li>
                        <li><strong class="text-cyan-400">Non-Linear:</strong> Trees, Graphs</li>
                        <li><strong class="text-cyan-400">Hash-based:</strong> Hash Table</li>
                        <li><strong class="text-cyan-400">Advanced:</strong> Tries, Segment Trees</li>
                    </ul>
                `
            },
            {
                id: 'arrays',
                title: 'Arrays',
                description: 'Collection of elements in contiguous memory',
                difficulty: 'Easy',
                icon: 'üìä',
                content: `
                    <h3 class="text-3xl text-glow-cyan mb-4">Arrays</h3>
                    <p class="mb-4">Collection of same-type elements in contiguous memory.</p>
                    <h4 class="text-2xl text-glow-purple mb-3">Key Points</h4>
                    <ul class="list-disc ml-8 mb-4 space-y-1">
                        <li>Random access ‚Üí O(1)</li>
                        <li>Fixed size (static)</li>
                        <li>Slow insert/delete ‚Üí O(n)</li>
                    </ul>
                    <div class="bg-black/80 p-4 rounded border-2 border-purple-500 mb-4">
                        <pre class="text-green-400">int arr[5] = {1, 2, 3, 4, 5};
cout << arr[0]; // prints 1</pre>
                    </div>
                `
            },
            {
                id: 'linked-lists',
                title: 'Linked Lists',
                description: 'Dynamic linear data structure with nodes',
                difficulty: 'Easy',
                icon: 'üîó',
                content: `
                    <h3 class="text-3xl text-glow-cyan mb-4">Linked Lists</h3>
                    <p class="mb-4">Nodes with data and pointer to next node.</p>
                    <h4 class="text-2xl text-glow-purple mb-3">Types</h4>
                    <ul class="list-disc ml-8 mb-4 space-y-1">
                        <li>Singly Linked List</li>
                        <li>Doubly Linked List</li>
                        <li>Circular Linked List</li>
                    </ul>
                `
            },
            {
                id: 'stacks',
                title: 'Stack',
                description: 'LIFO (Last In First Out) data structure',
                difficulty: 'Easy',
                icon: 'üìö',
                content: `
                    <h3 class="text-3xl text-glow-cyan mb-4">Stack</h3>
                    <p class="mb-4">LIFO - Last In First Out principle.</p>
                    <h4 class="text-2xl text-glow-purple mb-3">Operations</h4>
                    <ul class="list-disc ml-8 space-y-1">
                        <li>Push - Add element</li>
                        <li>Pop - Remove element</li>
                        <li>Top/Peek - View top</li>
                        <li>isEmpty - Check if empty</li>
                    </ul>
                `
            },
            {
                id: 'queues',
                title: 'Queue',
                description: 'FIFO (First In First Out) data structure',
                difficulty: 'Easy',
                icon: 'üö∂',
                content: `
                    <h3 class="text-3xl text-glow-cyan mb-4">Queue</h3>
                    <p class="mb-4">FIFO - First In First Out principle.</p>
                    <h4 class="text-2xl text-glow-purple mb-3">Types</h4>
                    <ul class="list-disc ml-8 space-y-1">
                        <li>Simple Queue</li>
                        <li>Circular Queue</li>
                        <li>Priority Queue</li>
                        <li>Double-Ended Queue (Deque)</li>
                    </ul>
                `
            },
            {
                id: 'trees',
                title: 'Trees',
                description: 'Hierarchical data structure',
                difficulty: 'Medium',
                icon: 'üå≥',
                content: `
                    <h3 class="text-3xl text-glow-cyan mb-4">Trees</h3>
                    <p class="mb-4">Hierarchical structure with nodes and edges.</p>
                    <h4 class="text-2xl text-glow-purple mb-3">Terms</h4>
                    <ul class="list-disc ml-8 space-y-1">
                        <li>Root - Top node</li>
                        <li>Parent & Child</li>
                        <li>Leaf - Node with no children</li>
                        <li>Depth / Height</li>
                        <li>Subtree</li>
                    </ul>
                `
            }
        ];

        let progress = {};

        function loadProgress() {
            const saved = localStorage.getItem('codecade_dsa_progress');
            progress = saved ? JSON.parse(saved) : {};
        }

        function saveProgress() {
            localStorage.setItem('codecade_dsa_progress', JSON.stringify(progress));
        }

        function renderTopics() {
            const grid = document.getElementById('topicsGrid');
            grid.innerHTML = topics.map(topic => {
                const isCompleted = progress[topic.id] || false;
                const progressPercent = isCompleted ? 100 : 0;
                
                return `
                    <div class="topic-card auth-panel" onclick="openTopic('${topic.id}')">
                        <div class="flex justify-between items-start mb-4">
                            <div class="text-6xl">${topic.icon}</div>
                            <div class="flex flex-col items-end gap-2">
                                <span class="difficulty-${topic.difficulty.toLowerCase()}">${topic.difficulty.toUpperCase()}</span>
                                ${isCompleted ? '<span class="text-green-400 text-4xl">‚úì</span>' : ''}
                            </div>
                        </div>
                        <h3 class="text-3xl text-glow-purple mb-3 font-bold">${topic.title}</h3>
                        <p class="text-xl mb-4">${topic.description}</p>
                        
                        <div class="mb-4">
                            <div class="flex justify-between text-lg mb-2">
                                <span>PROGRESS</span>
                                <span class="text-glow-cyan">${progressPercent}%</span>
                            </div>
                            <div class="progress-container">
                                <div class="progress-fill" style="width: ${progressPercent}%"></div>
                            </div>
                        </div>
                        
                        <button class="retro-btn ${isCompleted ? 'retro-btn-green' : ''} w-full">
                            ${isCompleted ? 'COMPLETED ‚úì' : 'START LEARNING'}
                        </button>
                    </div>
                `;
            }).join('');
        }

        function openTopic(topicId) {
            playClick();
            const topic = topics.find(t => t.id === topicId);
            if (!topic) return;

            const isCompleted = progress[topicId] || false;
            
            document.getElementById('modalTitle').textContent = topic.title.toUpperCase();
            document.getElementById('modalContent').innerHTML = topic.content;
            
            const markBtn = document.getElementById('markCompleteBtn');
            markBtn.textContent = isCompleted ? '‚úì COMPLETED' : 'MARK DONE';
            markBtn.className = `retro-btn ${isCompleted ? 'retro-btn-green' : ''}`;
            markBtn.onclick = () => toggleComplete(topicId);
            
            document.getElementById('topicModal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('topicModal').classList.add('hidden');
            playClick();
        }

        function toggleComplete(topicId) {
            playClick();
            progress[topicId] = !progress[topicId];
            saveProgress();
            renderTopics();
            updateStats();
            openTopic(topicId);
        }

        function updateStats() {
            const total = topics.length;
            const completed = Object.keys(progress).filter(k => progress[k]).length;
            const percent = total > 0 ? Math.round((completed / total) * 100) : 0;
            
            document.getElementById('totalModules').textContent = total;
            document.getElementById('completedModules').textContent = completed;
            document.getElementById('overallProgress').textContent = `${percent}%`;
        }

        function initAudio() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                lofiGain = audioContext.createGain();
                lofiGain.connect(audioContext.destination);
                lofiGain.gain.value = 0;
            } catch (e) {}
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundIcon').textContent = soundEnabled ? 'üéµ' : 'üîá';
            if (soundEnabled && audioContext) {
                audioContext.resume();
                lofiGain.gain.linearRampToValueAtTime(0.05, audioContext.currentTime + 1);
            } else if (lofiGain) {
                lofiGain.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.5);
            }
        }

        function playClick() {
            if (!soundEnabled || !audioContext) return;
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            osc.connect(gain);
            gain.connect(audioContext.destination);
            osc.frequency.value = 800;
            gain.gain.setValueAtTime(0.1, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            osc.start();
            osc.stop(audioContext.currentTime + 0.1);
        }

        document.getElementById('soundControl').addEventListener('click', toggleSound);
        document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

        window.openTopic = openTopic;
        window.closeModal = closeModal;

        loadProgress();
        renderTopics();
        updateStats();
        initAudio();
    </script>
</body>
</html>
